# 第5章 工作流中的工具和数据

>我们不会失败也不会气馁，我们不应柔弱和疲累。。。给我们工具我们就可以完成工作。

>--丘吉尔

16岁的时候，我想我喜欢玩电脑，为了探索这个世界，我需要钱。要么存钱，想我这样16岁的男孩，想让我存钱简直比登天都难。

这不仅是硬件需要钱，上网也要花钱，回到那个傻逼的年代，拨号上网1分钟10便士，为了这个上网费，我恳求父母给我钱。因为要1分钟10便士，我需要数着时间上网，在电脑旁放一个装钱的盒子，随时往里面装钱。月底的时候账单就会寄过来，那么用盒子的钱可以付清。但是，月底的时候账单是190英镑，而盒子里面只有6英镑。乞求原谅比允许更容易，我的父母也不例外。

在美国，事情就不一样了，很多州有着本地接入点，大学里面都可以接入。便宜的网费让在线社群更容易建立。早前，这些社群用文本文件来共享，分享点子，技术，制作食谱。文本文件免费分享，人们可以加入新的内容，更新内容。这些信息包含了各类主题，我自己来说，我写了吉他教程，在我的网站上公布。

Wikipedia是知识管理方面鼻祖，互联网不仅使人们共享信息，并且创建了工具来支撑创建这些信息内容。合作的新时代逐渐浮出水面，因为合作开始变得更加广泛，尽管挑战也加大了。随着计算成本和上网成本下降，人们上网就和开门一样简单。

> ORM-INTERVIEW-SNIPPET: THE COMMUNITY CASE BOOK

>很多在线社群是有求胜心态的， 特别是不同的粉丝站点和群组，我希望尝试并且有着强烈的共享的感觉，我们融入其中，让人们感到自己就是大家庭中的一员。

>--James Spafford, on Collaboration

## 理解工作流程

工具是完成工作的方法，它们经常用于处理原材料和设备，让材料和社群变得更有意思。完成一个工作应该选择正确的工具，首先需要理解我们需要完成什么，理解我们的工作流程。

我坚信每个人的大脑都是不同的，因此接入世界的方式也完全不同，不同的个性和对世界的定义。音乐为例子，有些人认为忧郁布鲁斯歌曲才是最正的音乐，有些人认为是重金属音乐才是，有些人认为摇滚才是。每个类型都用相同的乐器和主要的调调，但我们认为这些都是不同的。

同样，以编程语言为例子，我只想用Python来工作，当我开始学习Python的时候，感觉很舒服，自然。我变得非常有效率。其他语言如Perl，让我很头痛，不管我用了多久，Perl总是困扰我，它打不开我的脑洞。编程语言本质上是逻辑和工作流程的容器。每种语言都是一堆语义，语法，过程的集合，这些都需要学习，然后执行让它开始干活。另外，不同该语言有不同的技术方法，文化和期望。每个属性都必须要学习，这样才能掌握这门语言然后很溜的帮你完成工作。我喜欢Python主要是因为它的工作流程和语义让我变得很有效率。

这些不同到处都是，并且在人们互相协作中显得非常重要。这不只是编程语言。想一下我们的TODO lists有多么不同，邮件管理，文档组织，工作方法，组织结构等等。好的工作流程需要理解要完成什么，并且要让尽可能多的人极简的完成步骤。

Firefox浏览器成功的原因是它的可扩展性，大量的插件产生了，这些插件虽然很小，但是功能强大并且无缝的接入浏览器，可以过滤广告，可以改变页面布局和外观等等。以往，安装软件的方法是安装器，包，编译代码等。Firefox团队使得安装变得格外简单，拖进来就装好，不用管其他，Firefox直接处理好。工作流程和可用性是相辅相成的。

另外一个成功的工作流程例子是Bytemark Hosting，这个小公司提供虚拟主机服务，运行在linux上。如果我的设备在某一时刻没反应了，它提供了一个命令行的控制台，我可以在这个上面操作。这个控制台可以让我重启一下设备，然后收集诊断信息。尽管这个好像有点复杂，特别是对于firefox的用户来说，但是控制台很快，有效，对于linux用户有着非凡意义。如果一台机器down机了，我可以使用控制台然后让他恢复，所有这些都是我熟悉的命令行接口。

这些例子的共同点是理解了工作流程，懂得你的受众。

## 角色

人们总是有预期的，我们应该理解，预判和调整我们目标受众的预期。要理解预期，就要懂受众。尽管社群是包含各色各样的人，不同个性，不同经验和背景，我仍然可以看到特定类型工作中的一些相似性，特定工作汇总的预期，技能，经验和方法。比如编程，文档，测试，市场等等。

比开发者为例子，我们知道我们可以假设他们具备一定的技术知识，程序员沉迷于技术领域，他们可以花几天研究技术课题，学习需要的技术。不过你不能假设太多，一个Windows使用者和一个底层设备开发人员都是有技术训练的，但是并不一样，技术经验有着不同的形式，我们需要看到这里面的关联关系，也要看到不同点。

角色在识别经验和预设概念中很重要。同样以开发者为例子，假设他们知道使用操作系统，知道很多计算机术语，解决技术问题是合理的，都是开发者的共性。我们能够识别主要靠：观察和经验。

理解受众需要观察他们的自然环境，如果你想bug分类变得简单，那么坐下来并且观察人们是如何进行bug分类的。事实上是观察人们bug分类的范围。如果你想理解在展会中如何更有效，那么观察人们是怎么搭建展台和如何与人交流的。因为你观察你社群成员的工作流程，问他们的想法，什么东西让他们不爽和困扰，什么东东很爽。反馈经常是有价值的，识别做同样类型工作的人的相似点，可以在心里画出他们的期望和经验。

你自己的经验也会指引你构建起强大的社群，识别这些不同的角色。重复这个过程，对于理解期望很有帮助。

我有个在大公司做销售的朋友。在他的第一个大单子中，充满着情绪化，首先挑起客户对产品的热情。随着谈判的进行，他越加小心和自信，在没有碰到一个问题前事情进行的很好，这是一个令人激动的时刻，他过于关注这个单子，激动而有压力，失眠和不停的刷邮件。我朋友不太理解的是这个单子只是所有单子的一部分，每个单子都会遇到问题，都会受到质疑，在很多单子之后，他的经历教会了他，工作规范，记下来，魔鬼总是在细节中，不应该忽略。

## 构建一个简单的工作流

在构建角色后，我们需要坐下来梳理工作流，本章我们关注技术，基于工具的工作流，我们会评估技术步骤以实现目标。在此之前，我们应该识别目标，受众，一堆输出。有个例子可以说明这个过程。

当我还在Jokosher的时候，我希望人们测试我的程序和提供反馈。我们要求成员提供测试快照和告诉我们有什么缺陷以便我们修复。这帮助我们形成工作规范。目标是

目标：让更多人安装和测试Jokosher的开发快照并提交bug。

下一步是识别受众，我们不想开发者自己测试，希望实际的用户来测试，有真实的使用音乐作品和真实案例的人。


自动驾驶的风险

典型问题是当用户知道特定的产品缺陷时，他们就会避免触碰这些功能点，软件开发者经常会这么干，特别是产品发布前，实际上发布后，用户就会发现这个缺陷。

好的解决办法是让新用户来用软件，不让他知道有这个缺陷，他们就会反馈有价值的东东。

让我们定义一下我们的受众

受众：搞音乐的或者新用户，有几本的电脑知识。

下一步是描绘工作流的每个步骤，这里我们识别关键步骤，细节后面加，有一系列的输出条目。

比如：

输出：安装Jokosher的快照和相关依赖
输出：使用Jokosher的基本功能
输出：提交bug

这三个输出支撑了目标的完成，下一步是汇总用户的每个输出。这是最重要的部分，以便我们评估如何让我们的工作流更加简化和易于理解。

让我们看下我们的第一个输出，需要结合我们的新用户。如何更简单的安装Jokosher，特别是没有技术经验的人。

面对这个问题，我们有几种办法，可以总结出简单的文档指引人们如何编译和安装依赖，这个比较技术化和复杂。或者给大家提供安装包，这个需要引入外部人员帮助，这里的场景是人们可以简单下载一个文件并可以运行Jokosher，这个比较贴合受众的需求，相对简化，有效。

Stuart Langridge写了个脚本可以下载Jokosher并且自动安装依赖，然后用鼠标直接点击就可以运行起来。这个脚本检查依赖是否安装和如果已经安装就会略过。

用户可以使用脚本运行，无需关注安装。简单！

在工作流规范中，需要从受众搞得角度来文档化每一步。


对于Jokosher的安装例子：
输出：安装一个Jokosher快照和所有依赖。从jokosher.org下载脚本，执行脚本（文档有说明）。双击图标，运行脚本和安装Jokosher。

重复运行，双击图标即可。

这个过程对于用户来说就很简单，最难得部分是让脚本执行，这个没有安全的技术解决办法可以让这个过程自动化，我们的解决方案也需要一些开发资源。一个人投入开发脚本替代包依赖并且和linux分发版本匹配。

一旦你已经编写了你的工作流步骤，需要关注每一步和提出以下问题。

* 这步真的需要吗？
* 这个步骤足够简化吗？能不能进一步简化?
* 需求/条件易于获取或者接入吗？

当你应用了这些步骤，你可以用到整个工作流。

* 工作流是否足够有效？
* 这是对符合直觉的方法吗？
* 这个工作流可衡量吗？

如果你回答了每个问题，你应该有了很好的工作流。

合作的机理

本书早前，我们加了一项重要的条目到 TODO list中
* 构建有助于更大社群目标的环境。

这里的终点是有帮助的。这是什么意思呢？为了达成目标我们的环境构建有多好？合作是关于为了一个共同目标一起工作。打开一个频道，一起来完成我们都感兴趣的事情。这些内筒和工具组成了流，这就是合作的机理。

合作是对话的一种高兴事，围绕一个共同主题反复相互作用的通信。所有对话的核心是至少两个人和一个：

* 共同语言
* 共同主题
* 通信频道

想想一个伦敦街头的公开辩论，共同语言是英语，话题是执政的效率，通信频道是口头语，这些要素组成了互动的基础。互动的组合形成了对话。

例子：Ubuntu bug 工作流

技术合作有着类似的构建和结果。合作的机理非常重要，因为当你面对对话进行的时候，你就可以优化这些对话。

以bug为例子，软件的每部分都可能有bug，它是人写的，人都会犯错。bug 的错误会用字节和比特来展示。

大多数软件会用bug系统来进行bug的处理交互，有人提出bug，有人给出更多的信息，这些都是受到不够提供信息的多少决定的，有人修复bug，人们试图修复和提供反馈。交互对话的本质是共同的， 共同的语言（英语），共同话题（定位和修复bug），通信频道（web）

在构建基础设施和工具时，需要识别合作的机理，仔细考虑人们是如何对话的，包括日常对话（讨论）和技术对话（bug处理）。理解了交互发生的驱动力，你就能让有趣的事情发生。

有段时间我的团队花了一些力气在优化bug的交互流程，在讲述解决方法前，先看一下问题，在开源世界，bug 是个复杂的话题，特别是linux版本，考虑一个问题，Erica使用Ubuntu，遇到了一个文本编辑器的问题，当她尝试拼写检查的时候，程序挂了，作为开源世界的有经验者，她非常熟悉遇到问题后怎么办。会提交一个bug。她点击了报告问题，提交了bug。这个时候她希望Ubuntu的开发者能够修复它，到这个环节事情都很好。后面就开始复杂了Ubuntu的文本编辑器叫做Gedit，它是开源项目GNOME的一部分，是个独立的项目，是Ubuntu的上游软件项目，他们提供上游软件，Ubuntu开发这个用GNOME源码（GEDIT）,编译，打包进Ubuntu。当代码构建好了，GNOME就被集成进Ubuntu了。这包括主题，文件对话框，文件夹等。总之，Ubuntu把上游代码当成自己的一部分。

这个产生了一个问题，这样的bug 是谁的责任，是GNOME的bug？还是算Ubuntu开发者改动引起的bug？或者其他软件引起的？不过，这个问题还算简单。我们看看上游软件的代码基本就可以判断了。


第二个问题是相关性的问题，怎么处理bug报告？Eric报告了bug，她应该给Ubuntu bug系统（Launchpad）提交吗？还是给GNOME的bug系统提交？另外，其他人也会遇到类似的问题，有些报告给linux版本bug跟踪系统，有些提交给上游软件，必定出现重复。冗余，浪费。

不管是否会重复，bug都是存在的，问题是需要把这些bug汇集在一起，以便人们可以共享并修复。

解决办法是理解对话交互流程，不同bug提交者相互合作，优化。

软件可以解决这个问题，Launchpad是Ubuntu使用的bug 跟踪系统，可以连接bug ，包括可以外链其他系统的连接。当Erica提交了bug，其他人可以连接她的bug，差不多就是这样的：

1.如果开发者知道这是上游bug但不知道是上游的哪个软件的bug，他就会添加一个上游任务给bug号。上游任务指明bug应该连接的软件bug号。

2. 如果开发者知道bug是上游bug系统中的号，并且和Ubuntu的bug匹配，他就可以连接这两个bug，包含了Ubuntu的bug和链接的特性，当bug已经连接了，所有bug在上游的修改都会同步给Launchpad，这个功能链接起了两个独立的交互对话。


深入理解问题

尽管这个方法有效，不过我们还是遇到了问题，很少有人去链接bug，我们试图了解为什么没人链接，提升链接率。尽管我们知道没多少人会链接bug的，不过我们真的没办法确认，因为没有数据可以证明我们的假设，我们的任务是掌握更多的问题，为了搞定它，我们开发了一个工具： Ubuntu Upstream Report。这个工具集成在Launchpad，展示前100bug数的上游软件关联问题，我们认为前100的上游软件关联是人们最常使用的，越多人使用越多人反馈问题。每个上游bug报告我们展示状态，是否是bug，是不是上游软件bug（上游软件任务），任务关联链接。
这里的不同点在于我们用数字说话。比如，如果一个项目有很多打开的bug和定位确认的bug，我们就能知道哪些项目需要更多的人手了。

我们发现的关键点在于上游任务和链接bug数的不同点。比如一个项目有229个bug，但是有101个上游任务。那就可以知道剩下的128个bug是没有链接的。这意味着这个项目需要协助或者链接存在问题。同时意味着哪些特定bug没有链接。我们可以使用这些bug 作为社群打链接的衡量项。

打破交互对话


这些原始数据不仅可以识别问题，还可以帮助解决问题，数据证实了我们的假设，很多bug没有被链接，在实际操作中，它帮助我们理解哪些上游软件需要帮助，知道哪些贡献者需要邀谈一下。

为了收集链接bug数，需要识别3个关键的bug处理过程（报告，定位和链接），进而改进。

第一步我们关注链接，因为这个是最直观的数据，我们尝试优化每一步。比如我们发现在上游bug系统中找到bug耗时最长，所以我们干脆让Launchpad和上游bug系统自动同步bug信息，自动同步搜索，简化了用户接口，下一步是优化报告和定位流程，这是我们投入额外精力的工作，我们的工作流已经挺不错了，有了文档并且易于使用那就更好了，尽管有很多文档，但它们很分散，在wiki，难以查找，难以阅读，我们发现了这个问题，并且把文档分了章节，变得易于理解。

我们组织了文档日，鼓励社群成员参与，表彰改进，鼓励定位bug的人评审，阐述，使用新文档。

学到的经验

这个例子表明用正确的方法可以帮助我们构建一个有助于实现宽泛社群目标的环境，他的关键点如下：

1. 识别合作的基本方式，尽可能让工具和工作流能够完美和接近直觉，在我们的例子中，我们把bug 作为关键点。

2. 理解问题，社群成员使用流程的程度如何？哪些问题是比较严重的？哪些要解决？在我们的例子中，我们知道链接是个问题。

3. 打破工作流，知道了关键问题，那么就去改进，并且使得每一步都是必要的，有提升的。

简单的3个步骤基于理解问题和提供简单的解决方案的基本原则，简洁是社群中事物的关键目标。

构建好的基础设施

想一下罐头启子，几年前，使用罐头启子需要把刀片放在罐头的边沿上，确保放在对的位置，然后拧一下把手，刀片一般会划出罐头，就算是你可以避开这个，你也可能被罐头的尖锐处割到。现在有了电动启子，按一下按钮，就可以打开了。就算是手工，也可很容易的打开了。

制造业深入理解问题和研究工作流，他们利用工具来解决问题，在线合作项目需要多种工具支撑。最简单的社群也需要工具通信，存储数据和共享信息，很多社群构建主打产品，使用多种工具和不同的设施，开发者需要bug跟踪系统，补丁系统，版本控制系统，文档写作者需要wiki，文本处理工具，编辑器，翻译需要翻译工具，测试需要测试套，每个人都需要和其他人通信。使用大量工具是很正常的，但需要考虑如何有效率的使用工具，有效和高度集成的工具比分散的工具集合让人工作的更开心。

几年以来，我玩音乐，写歌，录制唱片，作为自由文化音乐行业的坚信者，Servered fifth就是我的输出，有个项目是我发起的，试图改变音乐行业，是关于创作音乐的，我编写，谱曲，录制单曲，用CCASA许可发行，我开始构建围绕项目和音乐的社群，在网站上构建了很多功能：新闻，博客，论坛，静态页面等，我想尽可能让这些集成在一起，我朋友Stuart实现了用户系统，网站有2个WordPress博客，Vanilla论坛和一些静态页，有个账号系统，让人看起来就像是一个可用的机器，集成提供了合作项目的基础。工作流是识别集成的基础，它包括个人组件的过程。


已修复bug为例，包含找到bug系统中的bug，查看代码，写补丁修复，提交补丁到bug报告，通知开发者修复，有3个工具： bug系统，源码库，邮件列表。可能还有其他工具，比如生成补丁的工具等，这些工具都可以集成。


* bug系统和源码库用同一个账号。
* bug系统显示近期的源码分支，包含bug编号和修改记录
* 当补丁提交到bug系统或者bug状态变更时，自动发邮件给邮件组通知开发者修复。
* 当发邮件时，包含bug的跟踪信息。

每个项目都可以让不同的工具集成在一起，关键是不同工具的不同使用方法。

最开始我应用的是Jokosher项目，项目创建的时候，我构建以下设施：

* 源码控制
* 在线提交log历史
* 源码查看
* bug跟踪
* wiki

一个方法是构建各自独立的工具，可以安装Bazaar，WebCVS，Bugzilla，MediaWiki和其他工具，每个工具相互隔离，不同的账号系统，我们的解决方案是使用Trac系统。

Trac是一个项目管理和软件开发系统，易于使用，集成代码库，问题跟踪，日志和wiki。我们用Python-Hosting主机（现在叫做WebFaction）提供了开源项目的案例，它简单，集成并且高效。

Trac并不是唯一选项，比如Sourceforge，对于Jokosher项目来说，Sourceforge显得太重，杀鸡焉用牛刀，集成有很多好处，一些开发团队的解决办法是包含大量的功能和设施，结果没有抓住重点，回到前面，Sourceforge就有这个问题，最后，Jokosher使用了Python-Hosting和Lanuchpad。


软件即服务
Jokosher的例子说明了一个集成的问题，你是自己部署一个工具链设施还是使用在线系统，在IT方面集成总是一个难题，很多公司开始提供服务，前面提到的Sourceforge和Lanuchpad，还有更多，这些解决方案把集成作为核心。可以提供给你一个系统然后包含大部分工具。这些一般就是云或者Saas

很多项目犯错。就是自己构建这些工具和设施，然后控制这些工具，这是短视的。这等同于没有考虑需求就草率的决定用在线服务。属于冲动的短视想法。让我们看看这些选择。

2种方法有不同的优劣势
先看优势
